<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farhan Store ‚Ä¢ PPOB</title>
<style>
body{margin:0;font-family:Arial;background:#020617;color:#fff}
.container{max-width:430px;margin:auto;padding:16px}
.header{background:linear-gradient(90deg,#00ffb3,#00b3ff);color:#000;
padding:14px;text-align:center;font-weight:bold;border-radius:12px}
.card{background:#0b122a;margin-top:14px;padding:14px;border-radius:14px}
input,select,button{width:100%;padding:12px;margin-top:8px;border-radius:10px;border:none}
button{font-weight:bold;cursor:pointer}
.btn-main{background:linear-gradient(90deg,#00ffb3,#00b3ff);color:#000}
.btn-admin{background:#facc15;color:#000}
.btn-qris{background:#22c55e;color:#000}
.status{margin-top:10px;padding:10px;border-radius:10px;display:none}
.pending{background:#1e293b}
.success{background:#16a34a;color:#000}
small{opacity:.8}
.list{font-size:13px;margin-top:6px}
</style>
</head>
<body>

<div class="container">
<div class="header">FARHAN STORE ‚Ä¢ PULSA & TOKEN</div>

<div class="card">
<select id="jenis">
<option value="Pulsa HP">üì± Pulsa HP</option>
<option value="Token PLN">‚ö° Token PLN</option>
</select>

<input id="tujuan" placeholder="Nomor HP / ID PLN">

<select id="nominal"></select>

<button class="btn-main" onclick="buatOrder()">Pesan</button>
<button class="btn-qris" onclick="bayarQRIS()">Bayar via QRIS</button>

<div id="status" class="status pending">‚è≥ Menunggu pembayaran</div>
<div id="success" class="status success">‚úÖ TRANSAKSI BERHASIL</div>
</div>

<div class="card">
<b>Riwayat Transaksi</b>
<div id="riwayat" class="list"></div>
<button class="btn-admin" onclick="adminKonfirmasi()">Admin: Konfirmasi</button>
</div>
</div>

<script>
const ADMIN_PIN="1234";
const WA="6285717426626";
const QRIS_LINK="https://linktr.ee/";
const ADMIN_FEE=1000;

const nominal=document.getElementById("nominal");
for(let i=5000;i<=1000000;i+=5000){
nominal.innerHTML+=`<option value="${i}">Rp ${i.toLocaleString()}</option>`;
}

let currentOrder=null;

function buatOrder(){
let jenis=document.getElementById("jenis").value;
let tujuan=document.getElementById("tujuan").value;
let nom=Number(nominal.value);
if(!tujuan)return alert("Isi tujuan");

let id="FS-"+Date.now();
let total=nom+ADMIN_FEE;

currentOrder={id,jenis,tujuan,nom,total,status:"Pending"};
simpan(currentOrder);

let msg=`ORDER ${id}
${jenis}
Tujuan: ${tujuan}
Nominal: Rp${nom.toLocaleString()}
Admin: Rp1.000
Total: Rp${total.toLocaleString()}`;

window.open(`https://wa.me/${WA}?text=${encodeURIComponent(msg)}`,"_blank");

document.getElementById("status").style.display="block";
render();
}

function bayarQRIS(){
window.open(QRIS_LINK,"_blank");
}

function adminKonfirmasi(){
let pin=prompt("Masukkan PIN Admin");
if(pin!==ADMIN_PIN)return alert("PIN salah");

if(!currentOrder)return;
currentOrder.status="Berhasil";
update(currentOrder.id,"Berhasil");

document.getElementById("status").style.display="none";
document.getElementById("success").style.display="block";
render();
}

function simpan(o){
let data=JSON.parse(localStorage.getItem("trx")||"[]");
data.push(o);
localStorage.setItem("trx",JSON.stringify(data));
}

function update(id,status){
let data=JSON.parse(localStorage.getItem("trx")||"[]");
data=data.map(x=>x.id===id?{...x,status}:x);
localStorage.setItem("trx",JSON.stringify(data));
}

function render(){
let data=JSON.parse(localStorage.getItem("trx")||"[]");
let el=document.getElementById("riwayat");
el.innerHTML="";
data.reverse().forEach(x=>{
el.innerHTML+=`<div>
${x.id} | ${x.jenis} | Rp${x.nom.toLocaleString()} | <b>${x.status}</b>
</div>`;
});
}
render();
</script>

</body>
</html>
